<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>employ input</title>
	<script type="text/javascript">
	
	function check() {
		var empnoCheck = document.getElementById("empnoCheck").value;
		<c:forEach items="${empno }" var="check">
		if(empnoCheck==${check.empno}){
			alert("중복된 사원번호 입니다.")
			return false;
		}else if(empnoCheck>5){
			alert("사원번호는 4자리까지 입력 가능합니다.")			
			return false;			
		}
		</c:forEach>
		
		var enameCheck = document.getElementById("enameCheck").value;
		if(enameCheck == null){
			alert("공백입니다.")
			return false;
		}
		
		var jobCheck = document.getElementById("jobCheck").value;
		if(job == null){
			alert("공백입니다.")
			return false;
		}
		
		var salCheck = document.getElementById("salCheck").value;
		if(job == null){
			alert("공백입니다.")
			return false;
		}
		
		var commCheck = document.getElementById("commCheck").value;
		if(job == null){
			alert("공백입니다.")
			return false;
		}
		
		var deptnoCheck = document.getElementById("deptnoCheck").value;
		if(job == null){
			alert("공백입니다.")
			return false;
		}
		
		
	}
	
	</script>
	
	
</head>
<body>	
	<h1> 사원 정보 입력</h1>
	<hr>
	<form id="check" action="update" method="post">
		사원번호 <input type="text" name="empno" id ="empnoCheck"> <input type="button" onclick="check()" value="중복체크"> <br>
		사원이름 <input type="text" name="ename" id ="enameCheck"> <br>
		사원직급 <input type="text" name="job" id ="jobCheck"> <br>
		매니저 <select name="mgr" id ="mgrCheck">
		<c:forEach items="${listMgr }" var="vo">
			<option value="${vo.empno }">(${vo.empno })${vo.ename } </option>
			</c:forEach>
		</select><br>
		입사일 <input type="date" name="hiredate" id ="dateCheck"> <br>
		급여 <input type="text" name="sal" id ="salCheck"> <br>
		커미션 <input type="text" name="comm" id ="commCheck"><br>
		부서 <select name="deptno" id ="deptnoCheck">
			<c:forEach items="${listDep }" var="vo">
			<option value="${vo.deptno }">(${vo.deptno })${vo.dname } </option>
			</c:forEach>
		
		</select><br>
		<input type="submit" value="입력"> <a href="tables">돌아가기</a>
	</form>
		

</body>
</html>